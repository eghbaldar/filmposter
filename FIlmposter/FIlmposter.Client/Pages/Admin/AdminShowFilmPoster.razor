@page "/admin/showfilmposter/{category}"
@rendermode InteractiveWebAssembly
@using FIlmposter.Client.Layout
@layout SingleLayout
<AdminNavBar />

@if (Category == "adminNationalFilmPosters")
{
    <PageTitle>@CategoryName</PageTitle>
    <NavLink href="/admin/insertfilmposter/adminInsertNationalFilmPosters" class="btn btn-primary">درج پوستر فیلم‌ ایرانی</NavLink>
}
else if (Category == "adminForeignFilmPosters")
{
    <PageTitle>@CategoryName</PageTitle>
    <NavLink href="/admin/insertfilmposter/adminInsertForeignFilmPosters" class="btn btn-primary">درج پوستر فیلم خارجی</NavLink>
}

@code {
    [Parameter]
    public string? Category { get; set; }
    public string? CategoryName { get; set; }
    [CascadingParameter]
    public SingleLayout ParentLayout { get; set; }  // The CascadingParameter of the parent layout
    protected override async Task OnInitializedAsync()
    {
        // Update subTitle of the parent layou
        if (Category == "adminNationalFilmPosters")
        {
            CategoryName = "پوستر فیلم‌های‌ ایرانی";
            if (ParentLayout != null) ParentLayout.UpdateTitle(CategoryName);
        }
        else if (Category == "adminForeignFilmPosters")
        {
            CategoryName = "پوستر فیلم‌های‌ خارجی";
            if (ParentLayout != null) ParentLayout.UpdateTitle(CategoryName);
        }
    }
}
