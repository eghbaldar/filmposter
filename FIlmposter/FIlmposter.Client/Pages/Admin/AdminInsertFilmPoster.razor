@page "/admin/insertfilmposter/{category}"
@inject HttpClient _http;
@inject IJSRuntime JS
@rendermode InteractiveWebAssembly
@using FIlmposter.Client.Layout
@layout SingleLayout
<AdminNavBar />

@if (Category == "adminInsertNationalFilmPosters")
{
    <PageTitle>@CategoryName</PageTitle>
    <NavLink href="/admin/showfilmposter/adminNationalFilmPosters" class="btn btn-primary">مشاهده پوستر فیلم‌های ایرانی</NavLink>
}
else if (Category == "adminInsertForeignFilmPosters")
{
    <PageTitle>@CategoryName</PageTitle>
    <NavLink href="/admin/showfilmposter/adminForeignFilmPosters" class="btn btn-primary">مشاهده پوستر فیلم‌های خارجی</NavLink>
}



@code {
    [Parameter]
    public string? Category { get; set; }
    public string? CategoryName { get; set; }
    [CascadingParameter]
    public SingleLayout ParentLayout { get; set; }  // The CascadingParameter of the parent layout

    protected override async Task OnInitializedAsync()
    {
        if (ParentLayout != null)
        {
            // Update subTitle of the parent layout
            switch (Category)
            {
                case "adminInsertNationalFilmPosters":
                    CategoryName = "درج پوستر فیلم ایرانی";
                    ParentLayout.UpdateTitle(CategoryName); 
                    break;
                case "adminInsertForeignFilmPosters":
                    CategoryName = "درج پوستر فیلم‌ خارجی";
                    ParentLayout.UpdateTitle(CategoryName);
                    break;
            }
        }
    }

    private void LogMessage()
    {
        Console.WriteLine("Button clicked!");
        System.Diagnostics.Debug.WriteLine("Button clicked!");

    }
}

